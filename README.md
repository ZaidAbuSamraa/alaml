# ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ูุงูููุฑุฏูู - Alaml

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูููุธูููุ ุชุชุจุน ุงูุญุถูุฑุ ุฅุฏุงุฑุฉ ุงูููุฑุฏูู ูุงููุจูุนุงุช ูุน ูุธุงู ุชุฑููู ุชููุงุฆู ููููุงุชูุฑ ูุงูุฏูุนุงุช.

## ๐ ุงููุญุชููุงุช
- [ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ](#ุงูุชูููุงุช-ุงููุณุชุฎุฏูุฉ)
- [ุงููููุฒุงุช](#ุงููููุฒุงุช)
- [ุงูุชุซุจูุช ุงููุญูู](#ุงูุชุซุจูุช-ุงููุญูู)
- [ุงููุดุฑ ุนูู VPS](#ุงููุดุฑ-ุนูู-vps)
- [ุจูุงูุงุช ุงูุฏุฎูู](#ุจูุงูุงุช-ุงูุฏุฎูู-ุงูุงูุชุฑุงุถูุฉ)

---

## ๐ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Backend
- **Framework:** NestJS
- **Database:** PostgreSQL
- **ORM:** TypeORM
- **Authentication:** JWT + Passport
- **Validation:** class-validator

### Frontend
- **Framework:** Next.js 14 (App Router)
- **Styling:** Tailwind CSS
- **Language:** TypeScript
- **State Management:** React Hooks

---

## โจ ุงููููุฒุงุช

### ุฅุฏุงุฑุฉ ุงูููุธููู
- โ ุฅุถุงูุฉ ูุชุนุฏูู ูุญุฐู ุงูููุธููู
- โ ุชุชุจุน ุณุงุนุงุช ุงูุนูู ูุงูุญุถูุฑ
- โ ุญุณุงุจ ุงูุฑูุงุชุจ ุชููุงุฆูุงู ุจูุงุกู ุนูู ุณุงุนุงุช ุงูุนูู
- โ ุนุฑุถ ุงูุฃุฑุจุงุญ ุงูุดูุฑูุฉ ููู ููุธู
- โ ูุธุงู ุทูุจุงุช ุงูููุงุฑุฏ ููููุธููู

### ุฅุฏุงุฑุฉ ุงูููุฑุฏูู
- โ ุฅุฏุงุฑุฉ ุงูููุฑุฏูู ูุงูููุงุชูุฑ ูุงูุฏูุนุงุช
- โ **ูุธุงู ุชุฑููู ุชููุงุฆู** ููููุงุชูุฑ ูุงูุฏูุนุงุช (ูุงุจู ููุชุนุฏูู)
- โ ุชุชุจุน ุงููุนุงููุงุช ุงููุงููุฉ
- โ ุฅุฑุณุงู ุฅุดุนุงุฑุงุช WhatsApp ููููุฑุฏูู ุนูุฏ ุงูุฏูุน

### ุงููุจูุนุงุช ูุงูุตูุฏูู
- โ ุชุณุฌูู ุงููุจูุนุงุช ูุน **ูุธุงู ุชุฑููู ุชููุงุฆู**
- โ ุฅุฏุงุฑุฉ ุงูุตูุฏูู (ุฅูุฏุงุน/ุณุญุจ)
- โ ุชูุงุฑูุฑ ูุงููุฉ ุดุงููุฉ

### ููุญุฉ ุงูุชุญูู
- โ ุฅุญุตุงุฆูุงุช ุดุงููุฉ ููููุธููู ูุงูููุฑุฏูู
- โ ุฑุณูู ุจูุงููุฉ ููุฃุฑุจุงุญ ุงูุดูุฑูุฉ
- โ ูุธุงู ุฅุดุนุงุฑุงุช ูู ุงูููุช ุงููุนูู
- โ ุชุตููู ุนุตุฑู ููุชุฌุงูุจ

---

## ๐ป ุงูุชุซุจูุช ุงููุญูู

### ุงููุชุทูุจุงุช
- Node.js 18+
- PostgreSQL 12+
- npm ุฃู yarn

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
```bash
git clone https://github.com/ZaidAbuSamraa/alaml.git
cd alaml
```

### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุงูุฏุฎูู ุฅูู PostgreSQL
psql -U postgres

# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
CREATE DATABASE alaml;
\q
```

### 3. ุฅุนุฏุงุฏ Backend
```bash
cd backend
npm install

# ุฅูุดุงุก ููู .env
cp .env.example .env
# ูู ุจุชุนุฏูู ุจูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู .env

# ุชุดุบูู seeder ูุฅูุดุงุก ุญุณุงุจ ุงูุฃุฏูู
npm run seed

# ุชุดุบูู ุงูุณูุฑูุฑ
npm run start:dev
```

**Backend ุณูุนูู ุนูู:** http://localhost:3000

### 4. ุฅุนุฏุงุฏ Frontend
```bash
cd frontend
npm install

# ุฅูุดุงุก ููู .env.local
cp .env.local.example .env.local

# ุชุดุบูู ุงูุชุทุจูู
npm run dev
```

**Frontend ุณูุนูู ุนูู:** http://localhost:3001

---

## ๐ ุงููุดุฑ ุนูู VPS

โ๏ธ **ููู ุฌุฏุงู:** ุงูุชุทุจูู ูุณุชุฎุฏู ุญุงููุงู ุนูุงููู API ุซุงุจุชุฉ (hardcoded) ูุซู `http://localhost:3000`

### ุงููุดููุฉ
ุฌููุน ูููุงุช Frontend ุชุญุชูู ุนูู:
```typescript
fetch('http://localhost:3000/employees', ...)
```

ูุฐุง **ูู ูุนูู** ุนูู VPS!

### ุงูุญู
1. ุชู ุฅูุดุงุก ููู `frontend/src/lib/api.ts` ูุฅุฏุงุฑุฉ ุนูุงููู API ูุฑูุฒูุงู
2. ูุฌุจ ุชุญุฏูุซ ุฌููุน ูููุงุช Frontend ูุงุณุชุฎุฏุงู ูุชุบูุฑ ุงูุจูุฆุฉ `NEXT_PUBLIC_API_URL`
3. ุฑุงุฌุน ููู `DEPLOYMENT.md` ููุชุนูููุงุช ุงููุงููุฉ

### ุฎุทูุงุช ุณุฑูุนุฉ ูููุดุฑ
```bash
# ุนูู VPS
cd /var/www
git clone https://github.com/ZaidAbuSamraa/alaml.git
cd alaml

# Backend
cd backend
npm install
npm run build
pm2 start dist/main.js --name alaml-backend

# Frontend
cd ../frontend
npm install
# ุชุนุฏูู .env.local ููุญุชูู ุนูู ุนููุงู VPS
npm run build
pm2 start npm --name alaml-frontend -- start
```

**ููุชูุงุตูู ุงููุงููุฉุ ุฑุงุฌุน:** [DEPLOYMENT.md](./DEPLOYMENT.md)

---

## ๐ ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

### ุญุณุงุจ ุงูุฃุฏูู
- **ุงุณู ุงููุณุชุฎุฏู:** admin
- **ูููุฉ ุงููุฑูุฑ:** admin123

---

## ๐ ูููู ุงููุดุฑูุน

```
alaml/
โโโ backend/                    # NestJS Backend
โ   โโโ src/
โ   โ   โโโ auth/              # ูุธุงู ุงููุตุงุฏูุฉ
โ   โ   โโโ employees/         # ุฅุฏุงุฑุฉ ุงูููุธููู
โ   โ   โโโ suppliers/         # ุฅุฏุงุฑุฉ ุงูููุฑุฏูู
โ   โ   โโโ sales/             # ุงููุจูุนุงุช
โ   โ   โโโ time-logs/         # ุณุฌูุงุช ุงูุญุถูุฑ
โ   โ   โโโ entities/          # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โ   โโโ scripts/           # Scripts ูุณุงุนุฏุฉ
โ   โโโ package.json
โ
โโโ frontend/                   # Next.js Frontend
โ   โโโ src/
โ   โ   โโโ app/
โ   โ   โ   โโโ admin/        # ุตูุญุงุช ุงูุฃุฏูู
โ   โ   โ   โโโ employee/     # ุตูุญุงุช ุงูููุธู
โ   โ   โ   โโโ login/        # ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
โ   โ   โโโ components/       # ููููุงุช ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
โ   โ   โโโ lib/              # ููุชุจุงุช ูุณุงุนุฏุฉ
โ   โโโ package.json
โ
โโโ DEPLOYMENT.md              # ุฏููู ุงููุดุฑ ุงููุงูู
โโโ README.md                  # ูุฐุง ุงูููู
```

---

## ๐๏ธ ุฃูุงูุฑ ูููุฏุฉ

### Backend
```bash
npm run start:dev          # ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
npm run build              # ุจูุงุก ููุฅูุชุงุฌ
npm run seed               # ุฅูุดุงุก ุญุณุงุจ ุฃุฏูู
npm run clear:production   # ุญุฐู ุจูุงูุงุช ุงูุฅูุชุงุฌ
```

### Frontend
```bash
npm run dev                # ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
npm run build              # ุจูุงุก ููุฅูุชุงุฌ
npm run start              # ุชุดุบูู ุงูุฅูุชุงุฌ
```

---

## ๐ API Endpoints

### Authentication
- `POST /auth/login` - ุชุณุฌูู ุงูุฏุฎูู

### Employees
- `GET /employees` - ูุงุฆูุฉ ุงูููุธููู
- `POST /employees` - ุฅุถุงูุฉ ููุธู
- `PUT /employees/:id` - ุชุนุฏูู ููุธู
- `DELETE /employees/:id` - ุญุฐู ููุธู

### Time Logs
- `POST /time-logs/clock-in/:id` - ุชุณุฌูู ุฏุฎูู
- `POST /time-logs/clock-out/:id` - ุชุณุฌูู ุฎุฑูุฌ
- `GET /time-logs/earnings/:id/:year/:month` - ุงูุฃุฑุจุงุญ ุงูุดูุฑูุฉ

### Suppliers
- `GET /suppliers` - ูุงุฆูุฉ ุงูููุฑุฏูู
- `POST /suppliers/invoices` - ุฅุถุงูุฉ ูุงุชูุฑุฉ (ุฑูู ุชููุงุฆู)
- `POST /suppliers/payments` - ุฅุถุงูุฉ ุฏูุนุฉ (ุฑูู ุชููุงุฆู)

### Sales
- `POST /sales` - ุฅุถุงูุฉ ูุจูุนุฉ (ุฑูู ุชููุงุฆู)

---

## ๐ ุงูุฃูุงู

- โ JWT Authentication
- โ Role-Based Access Control
- โ Password Hashing (bcrypt)
- โ Environment Variables
- โ CORS Protection

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Environment Variables:** ูุง ุชูุณู ุชุนุฏูู `.env` ู `.env.local` ูุจู ุงููุดุฑ
2. **Database Backup:** ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ
3. **SSL Certificate:** ุงุณุชุฎุฏู Let's Encrypt ููุญุตูู ุนูู HTTPS ูุฌุงูุงู
4. **Firewall:** ุชุฃูุฏ ูู ูุชุญ ุงูุจูุฑุชุงุช ุงููุทููุจุฉ (80, 443, 3000)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุชุทุจูู ูุง ูุชุตู ุจู API
**ุงูุญู:** ุชุฃูุฏ ูู ุฃู `NEXT_PUBLIC_API_URL` ูู `.env.local` ูุดูุฑ ุฅูู ุนููุงู ุงูุณูุฑูุฑ ุงูุตุญูุญ

### ุงููุดููุฉ: CORS Errors
**ุงูุญู:** ุชุฃูุฏ ูู ุฅุถุงูุฉ domain ุงูุฎุงุต ุจู ูู ุฅุนุฏุงุฏุงุช CORS ูู `main.ts`

### ุงููุดููุฉ: Database Connection Failed
**ุงูุญู:** ุชุญูู ูู ุจูุงูุงุช ุงูุงุชุตุงู ูู `.env` ูุชุฃูุฏ ูู ุฃู PostgreSQL ูุนูู

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ูุชุญ Issue ุนูู GitHub.

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช MIT License.
